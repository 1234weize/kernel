From 0d1442ec98ac6128554ece1ea99cea95eb7c302c Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Thu, 6 Dec 2012 10:00:05 -0600
Subject: [PATCH 10/11] Beagle: expansion: limit buddy to beagle only

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/mach-omap2/board-omap3beagle.c |    9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/arch/arm/mach-omap2/board-omap3beagle.c b/arch/arm/mach-omap2/board-omap3beagle.c
index c370d72..b039a0c 100644
--- a/arch/arm/mach-omap2/board-omap3beagle.c
+++ b/arch/arm/mach-omap2/board-omap3beagle.c
@@ -917,6 +917,9 @@ static struct omap_board_mux board_mux[] __initdata = {
 
 static int __init expansionboard_setup(char *str)
 {
+	if (!machine_is_omap3_beagle())
+		return 0;
+
 	if (!str)
 		return -EINVAL;
 	strncpy(expansionboard_name, str, 16);
@@ -926,6 +929,9 @@ static int __init expansionboard_setup(char *str)
 
 static int __init expansionboard2_setup(char *str)
 {
+	if (!machine_is_omap3_beagle())
+		return 0;
+
 	if (!str)
 		return -EINVAL;
 	strncpy(expansionboard2_name, str, 16);
@@ -935,6 +941,9 @@ static int __init expansionboard2_setup(char *str)
 
 static int __init camera_setup(char *str)
 {
+	if (!machine_is_omap3_beagle())
+		return 0;
+
 	if (!str)
 		return -EINVAL;
 	strncpy(camera_name, str, 16);
-- 
1.7.10.4

