From 954e4522650c97eb873952da3dc07d3a8b134cdd Mon Sep 17 00:00:00 2001
From: Koen Kooi <koen@dominion.thruhere.net>
Date: Tue, 3 Jul 2012 21:28:44 +0200
Subject: [PATCH] beaglebone: disable LBO GPIO for battery cape

Signed-off-by: Koen Kooi <koen@dominion.thruhere.net>
---
 arch/arm/mach-omap2/board-am335xevm.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/arch/arm/mach-omap2/board-am335xevm.c b/arch/arm/mach-omap2/board-am335xevm.c
index 4b3f7d2..ce36a94 100644
--- a/arch/arm/mach-omap2/board-am335xevm.c
+++ b/arch/arm/mach-omap2/board-am335xevm.c
@@ -3029,7 +3029,8 @@ static void beaglebone_cape_setup(struct memory_accessor *mem_acc, void *context
 		pr_info("BeagleBone cape: initializing battery cape\n");
 		// gpio1_6, P9_15 lowbat output
 		// AIN4, P9_33 vbat
-		setup_pin_mux(batterycape_pin_mux);
+		/* LBO doesn't work, so disable it for now
+ 		setup_pin_mux(batterycape_pin_mux);
 		#if defined(CONFIG_CHARGER_GPIO)
 			int err;
 			err = platform_device_register(&beaglebone_charger_device);
@@ -3037,6 +3038,7 @@ static void beaglebone_cape_setup(struct memory_accessor *mem_acc, void *context
 				pr_err("failed to register BeagleBone battery cape gpio\n");
 		
 		#endif
+		*/
 	}
 	
 	if (!strncmp("BB-BONE-SERL-01", cape_config.partnumber, 15)) {
-- 
1.7.10

